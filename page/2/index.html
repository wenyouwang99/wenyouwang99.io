<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="https://wenyouwang99.io/page/2/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    
    <div id="header-inner" class="inner">
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://wenyouwang99.io"></form>
      </div>
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">首页</a>
        
          <a class="main-nav-link" href="/archives">归档</a>
        
          <a class="main-nav-link" href="/about">关于</a>
        
      </nav>
      
    </div>
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-二次排序" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/08/10/二次排序/" class="article-date">
  <time datetime="2019-08-10T12:13:35.519Z" itemprop="datePublished">2019-08-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <!-- Table of Contents -->
        
        <h2 id="二次排序（对key-value都排序）"><a href="#二次排序（对key-value都排序）" class="headerlink" title="二次排序（对key,value都排序）"></a>二次排序（对key,value都排序）</h2><pre><code>import org.apache.hadoop.conf.Configured;</code></pre><p>   import org.apache.hadoop.io.WritableComparable;<br>   import java.io.DataInput;<br>   import java.io.DataOutput;<br>   import java.io.IOException;<br>   import org.apache.hadoop.io.*;<br>   import org.apache.hadoop.mapreduce.Partitioner;<br>   import org.apache.hadoop.mapreduce.Mapper;<br>   import org.apache.hadoop.mapreduce.Reducer;<br>  import org.apache.hadoop.conf.Configuration;<br>  import org.apache.hadoop.fs.FileSystem;<br>  import org.apache.hadoop.fs.Path;<br>  import org.apache.hadoop.mapreduce.Job;<br>  import org.apache.hadoop.mapreduce.lib.input.FileInputFormat;<br>  import org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;<br>  import org.apache.hadoop.mapreduce.lib.input.TextInputFormat;<br>  import org.apache.hadoop.mapreduce.lib.output.TextOutputFormat;<br>  import org.apache.hadoop.util.Tool;<br>  import org.apache.hadoop.util.ToolRunner;<br>  import org.slf4j.Logger;<br>  import org.slf4j.LoggerFactory;</p>
<p>  public class SecondrySort extends Configured implements Tool {</p>
<pre><code>static class Fruit implements WritableComparable&lt;Fruit&gt;{
    private static final Logger logger = LoggerFactory.getLogger(Fruit.class);
    private String date;
   private String name;
  private Integer sales;
  public Fruit(){
   }
  public Fruit(String date,String name,Integer sales){
      this.date = date;
       this.name = name;
      this.sales = sales;
   }

 public String getDate(){
       return this.date;
   }

  public String getName(){
      return this.name;
   }

   public Integer getSales(){
      return this.sales;
   }

   @Override
   public void readFields(DataInput in) throws IOException{
      this.date = in.readUTF();
      this.name = in.readUTF();
       this.sales = in.readInt();
  }

  @Override
   public void write(DataOutput out) throws IOException{
       out.writeUTF(this.date);
      out.writeUTF(this.name);
      out.writeInt(sales);
   }

  @Override
   public int compareTo(Fruit other) {
      int result1 = this.date.compareTo(other.getDate());
       if(result1 == 0) {
          int result2 = this.sales - other.getSales();
          if (result2 == 0) {
              double result3 = this.name.compareTo(other.getName());
              if(result3 &gt; 0) return -1;
              else if(result3 &lt; 0) return 1;
              else return 0;
          }else if(result2 &gt;0){
               return -1;
          }else if(result2 &lt; 0){
              return 1;
           }
       }else if(result1 &gt; 0){
          return -1;
       }else{
         return 1;
       }
      return 0;
  }

   @Override
   public int hashCode(){
      return this.date.hashCode() * 157 + this.sales + this.name.hashCode();
   }

   @Override
  public boolean equals(Object object){
       if (object == null)
          return false;
       if (this == object)
          return true;
      if (object instanceof Fruit){
          Fruit r = (Fruit) object;</code></pre><p> //                if(r.getDate().toString().equals(this.getDate().toString())){<br>                 return r.getDate().equals(this.getDate()) &amp;&amp; r.getName().equals(this.getName())<br>                        &amp;&amp; this.getSales() == r.getSales();<br>             }else{<br>                return false;<br>            }<br>        }</p>
<pre><code>     public String toString() {
        return this.date + &quot; &quot; + this.name + &quot; &quot; + this.sales;
     }

}

static class FruitPartition extends Partitioner&lt;Fruit, NullWritable&gt;{
    @Override
     public int getPartition(Fruit key, NullWritable value,int numPartitions){
        return Math.abs(Integer.parseInt(key.getDate()) * 127) % numPartitions;
     }</code></pre><p>   }</p>
<pre><code> public static class GroupingComparator extends WritableComparator{
     protected GroupingComparator(){
        super(Fruit.class, true);
     }

     @Override
     public int compare(WritableComparable w1, WritableComparable w2){
        Fruit f1 = (Fruit) w1;
        Fruit f2 = (Fruit) w2;

        if(!f1.getDate().equals(f2.getDate())){
            return f1.getDate().compareTo(f2.getDate());
        }else{
            return f1.getSales().compareTo(f2.getSales());
        }
    }
 }

 public static class Map extends Mapper&lt;LongWritable, Text, Fruit, NullWritable&gt; {

    public void map(LongWritable key, Text value, Context context) throws IOException, InterruptedException {
        String line = value.toString();
        String str[] = line.split(&quot; &quot;);
        Fruit fruit = new Fruit(str[0],str[1],new Integer(str[2]));
         //Fruit fruit = new Fruit();
         //fruit.set(str[0],str[1],new Integer(str[2]));
         context.write(fruit, NullWritable.get());
    }
 }

 public static class Reduce extends Reducer&lt;Fruit, NullWritable, Text, NullWritable&gt; {

     public void reduce(Fruit key, Iterable&lt;NullWritable&gt; values, Context context) throws IOException, InterruptedException {
        String str = key.getDate() + &quot; &quot; + key.getName() + &quot; &quot; + key.getSales();
        context.write(new Text(str), NullWritable.get());
    }
}

@Override
public int run(String[] args) throws Exception {
    Configuration conf = new Configuration();
     // 判断路径是否存在，如果存在，则删除
    Path mypath = new Path(args[1]);
    FileSystem hdfs = mypath.getFileSystem(conf);
     if (hdfs.isDirectory(mypath)) {
         hdfs.delete(mypath, true);
    }

     Job job = Job.getInstance(conf, &quot;Secondry Sort app&quot;);
   // 设置主类
     job.setJarByClass(SecondrySort.class);

     // 输入路径
    FileInputFormat.setInputPaths(job, new Path(args[0]));
    // 输出路径
    FileOutputFormat.setOutputPath(job, new Path(args[1]));

    // Mapper
     job.setMapperClass(Map.class);
    // Reducer
    job.setReducerClass(Reduce.class);

    // 分区函数
     job.setPartitionerClass(FruitPartition.class);

    // 分组函数
     job.setGroupingComparatorClass(GroupingComparator.class);

    // map输出key类型
    job.setMapOutputKeyClass(Fruit.class);
     // map输出value类型
    job.setMapOutputValueClass(NullWritable.class);

    // reduce输出key类型
     job.setOutputKeyClass(Text.class);
     // reduce输出value类型
    job.setOutputValueClass(NullWritable.class);

     // 输入格式
     job.setInputFormatClass(TextInputFormat.class);
     // 输出格式
     job.setOutputFormatClass(TextOutputFormat.class);

    return job.waitForCompletion(true) ? 0 : 1;
 }

 public static void main(String[] args) throws Exception{
     int exitCode = ToolRunner.run(new SecondrySort(), args);
     System.exit(exitCode);
 }</code></pre><p> }</p>
<p>测试数据：</p>
<p>20180906 Apple 200<br>20180904 Apple 200<br>20180905 Banana 100<br>20180906 Orange 300<br>20180906 Banana 400<br>20180904 Orange 100<br>20180905 Apple 400<br>20180904 Banana 300<br>20180905 Orange 500</p>
<p>运行结果：</p>
<p>20180906 Banana 400<br>20180906 Orange 300<br>20180906 Apple 200<br>20180905 Orange 500<br>20180905 Apple 400<br>20180905 Banana 100<br>20180904 Banana 300<br>20180904 Apple 200<br>20180904 Orange 100</p>
<p>总结：</p>
<p>1、在使用实现WritableComparable接口的方式实现自定义比较器时，必须有一个无参的构造函数。否则会报Unable to initialize any output collector的错误。<br>2、readFields和write方法中处理字段的顺序必须一致，否则会报MapReduce Error: java.io.EOFException at java.io.DataInputStream.readFully(DataInputStream.java:197)的错误。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://wenyouwang99.io/2019/08/10/二次排序/" data-id="cjz9m19cq000l2svg5ygyq79k" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>
 


  
    <article id="post-数据去重" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/08/09/数据去重/" class="article-date">
  <time datetime="2019-08-09T10:56:25.743Z" itemprop="datePublished">2019-08-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <!-- Table of Contents -->
        
        <h2 id="数据去重"><a href="#数据去重" class="headerlink" title="数据去重"></a>数据去重</h2><p>  public static class Map extends Mapper&lt;Object, Text, Text, Text&gt;{<br>        private static Text line = new Text();</p>
<pre><code>    public void map(Object key,Text value,Context context)throws IOException, InterruptedException{
        line = value;
        context.write(line, new Text(&quot;&quot;));
    }        
}



public static class Reduce extends Reducer&lt;Text, Text, Text, Text&gt; {
    protected void reduce(Text key, Iterable&lt;Text&gt; values,Context context) throws IOException, InterruptedException {
        context.write(key, new Text(&quot;&quot;));
    }
}</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://wenyouwang99.io/2019/08/09/数据去重/" data-id="cjz9m19ca000d2svg71brll5k" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>
 


  
    <article id="post-数据排序" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/08/09/数据排序/" class="article-date">
  <time datetime="2019-08-09T10:55:12.862Z" itemprop="datePublished">2019-08-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <!-- Table of Contents -->
        
        <h2 id="数据排序"><a href="#数据排序" class="headerlink" title="数据排序"></a>数据排序</h2><p>  public static class Map extends Mapper&lt;Object, Text, IntWritable, IntWritable&gt;{<br>        private static IntWritable data = new IntWritable();</p>
<pre><code>    public void map(Object key,Text value,Context context)throws IOException, InterruptedException{
        String line = value.toString();
        data.set(Integer.parseInt(line));
        context.write(data, new IntWritable(1));
    }        
}




public static class Reduce extends Reducer&lt;IntWritable, IntWritable, IntWritable, IntWritable&gt; {
    private static IntWritable linenum = new IntWritable(1);
    protected void reduce(IntWritable key, Iterable&lt;IntWritable&gt; values,Context context) throws IOException, InterruptedException {
        for (IntWritable val : values) {
            context.write(linenum, key);
            linenum = new IntWritable(linenum.get()+1);
        }
    }
}</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://wenyouwang99.io/2019/08/09/数据排序/" data-id="cjz9m19cb000f2svgwyr0w23d" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>
 


  
    <article id="post-平均成绩" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/08/09/平均成绩/" class="article-date">
  <time datetime="2019-08-09T10:53:39.751Z" itemprop="datePublished">2019-08-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <!-- Table of Contents -->
        
        <h2 id="平均成绩"><a href="#平均成绩" class="headerlink" title="平均成绩"></a>平均成绩</h2><p>mapreduce 计算平均成绩</p>
<p>  public static class Map extends Mapper&lt;LongWritable, Text, Text, IntWritable&gt;{<br>        private static IntWritable data = new IntWritable();</p>
<pre><code>    public void map(LongWritable key,Text value,Context context)throws IOException, InterruptedException{
        String line = value.toString();
        String [] ss = line.split(&quot; &quot;);        
        String strName = ss[0];
        String strScore = ss[1];        
        Text name = new Text(strName);
        int scoreInt =     Integer.parseInt(strScore);
        context.write(name, new IntWritable(scoreInt));
    }        
}




public static class Reduce extends Reducer&lt;Text, IntWritable, Text, IntWritable&gt; {
    protected void reduce(Text key, Iterable&lt;IntWritable&gt; values,Context context) throws IOException, InterruptedException {
        int sum = 0;
        int count = 0;
        Iterator&lt;IntWritable&gt; iterator = values.iterator();
        while(iterator.hasNext()) {
            sum += iterator.next().get();
            count++;
        }
        int average = (int)sum/count;
        context.write(key, new IntWritable(average));
    }
}</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://wenyouwang99.io/2019/08/09/平均成绩/" data-id="cjz9m19ca000e2svgken9jzqg" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>
 


  
    <article id="post-在eclipse中向hdfs上传文件" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/08/06/在eclipse中向hdfs上传文件/" class="article-date">
  <time datetime="2019-08-06T13:35:27.305Z" itemprop="datePublished">2019-08-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <!-- Table of Contents -->
        
        <h2 id="在eclipse中向hdfs上传文件"><a href="#在eclipse中向hdfs上传文件" class="headerlink" title="在eclipse中向hdfs上传文件"></a>在eclipse中向hdfs上传文件</h2><p>public class hdfs {</p>
<pre><code>static FileSystem fs = null;
static{
Configuration conf = new Configuration();
String path = null;
//fs = FileSystem.get(new URI(&quot;hdfs://192.168.8.10:9000&quot;),conf,root);
try {
    fs = FileSystem.get(new URI(&quot;hdfs://192.168.8.10:9000&quot;),conf,path);
} catch (IOException e) {
    // TODO Auto-generated catch block
    e.printStackTrace();
} catch (InterruptedException e) {
    // TODO Auto-generated catch block
    e.printStackTrace();
} catch (URISyntaxException e) {
    // TODO Auto-generated catch block
    e.printStackTrace();
}
}
public static void copyFromLocal() throws IOException {
fs.copyFromLocalFile(new Path(&quot;D:\\text\\123.txt&quot;),new Path(&quot;/input/123&quot;));
System.out.println(&quot;finished...&quot;);
}    </code></pre><p>}</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://wenyouwang99.io/2019/08/06/在eclipse中向hdfs上传文件/" data-id="cjz9m19c9000c2svgp3fxou14" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>
 


  
    <article id="post-解决eclipse中无法执行向hadoop上传文件问题" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/08/06/解决eclipse中无法执行向hadoop上传文件问题/" class="article-date">
  <time datetime="2019-08-06T13:29:08.157Z" itemprop="datePublished">2019-08-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <!-- Table of Contents -->
        
        <h2 id="解决eclipse中无法执行向hadoop上传文件问题"><a href="#解决eclipse中无法执行向hadoop上传文件问题" class="headerlink" title="解决eclipse中无法执行向hadoop上传文件问题"></a>解决eclipse中无法执行向hadoop上传文件问题</h2><p>main……的问题</p>
<p>Permission denied: user=zhuy, access=WRITE, inode=”/user”:root:supergroup:drwxr-xr-x<br>从这句话我们可知道是权限问题</p>
<p>所以要修改权限在  hdfs-site.xml加入如下代码   （每台都要修改）</p>
<pre><code>&lt;property&gt;
    &lt;name&gt;dfs.permissions&lt;/name&gt;
    &lt;value&gt;false&lt;/value&gt;
    &lt;description&gt;
      If &quot;true&quot;, enable permission checking in HDFS.
      If &quot;false&quot;, permission checking is turned off,
      but all other behavior is unchanged.
      Switching from one parameter value to the other does not change the mode,
      owner or group of files or directories.
    &lt;/description&gt;
&lt;/property&gt;</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://wenyouwang99.io/2019/08/06/解决eclipse中无法执行向hadoop上传文件问题/" data-id="cjz9m19cp000k2svg6bnq3pwd" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>
 


  
    <article id="post-hdfs文件读取2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/08/06/hdfs文件读取2/" class="article-date">
  <time datetime="2019-08-06T12:45:49.641Z" itemprop="datePublished">2019-08-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <!-- Table of Contents -->
        
        <h2 id="hdfs文件的读取-在eclipse中D-text-text-txt01输出-其中text01-txt不必创建，自动生成"><a href="#hdfs文件的读取-在eclipse中D-text-text-txt01输出-其中text01-txt不必创建，自动生成" class="headerlink" title="hdfs文件的读取  (在eclipse中D:\text\text.txt01输出   其中text01.txt不必创建，自动生成 )"></a>hdfs文件的读取  (在eclipse中D:\text\text.txt01输出   其中text01.txt不必创建，自动生成 )</h2><p>package com.qf.a.b;</p>
<p>import java.io.File;<br>import java.io.FileOutputStream;<br>import java.io.IOException;<br>import java.io.OutputStream;<br>import java.net.URI;</p>
<p>public static void readFileToLocal(String path) throws IOException {</p>
<pre><code>FSDataInputStream fis = null;
OutputStream out = null;

try{

Configuration conf = new Configuration();

FileSystem fs = FileSystem.get(new URI(&quot;hdfs://192.168.8.10:9000&quot;),conf,path);
fis = fs.open(new Path(path));
out = new FileOutputStream(new File(&quot;D:\\text\\text.txt01&quot;));
IOUtils.copyBytes(fis, System.out, 4096, true);

}catch(Exception e){

}finally{
    fis.close();
    out.close();

}

}</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://wenyouwang99.io/2019/08/06/hdfs文件读取2/" data-id="cjz9m19bz00022svggurmyfwb" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>
 


  
    <article id="post-hdfs文件的读取" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/08/06/hdfs文件的读取/" class="article-date">
  <time datetime="2019-08-06T12:14:14.636Z" itemprop="datePublished">2019-08-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <!-- Table of Contents -->
        
        <h2 id="hdfs文件的读取-在eclipse中console输出"><a href="#hdfs文件的读取-在eclipse中console输出" class="headerlink" title="hdfs文件的读取  (在eclipse中console输出)"></a>hdfs文件的读取  (在eclipse中console输出)</h2><p>package com.qf.a.b;</p>
<p>import java.io.IOException;</p>
<p>import org.apache.hadoop.conf.Configuration;<br>import org.apache.hadoop.fs.FSDataInputStream;<br>import org.apache.hadoop.fs.FileSystem;<br>import org.apache.hadoop.fs.Path;<br>import org.apache.hadoop.io.IOUtils;</p>
<p>public class hdfs {<br>    public static void main(String[] args) throws IOException {<br>        readFileToConsole(“/input/a.txt”);<br>    }</p>
<pre><code>public static void readFileToConsole(String pat) throws IOException {
    Configuration conf = new Configuration();
    conf.set(&quot;fs.defaultFS&quot;,&quot;hdfs://192.168.8.10:9000&quot;);
    FileSystem fs = FileSystem.get(conf);
    //String path = null;
    //FSDataInputStream fis = fs.open(new Path(path));
    FSDataInputStream fis = fs.open(new Path(&quot;/input/a.txt&quot;));
    IOUtils.copyBytes(fis, System.out, 4096, true);


}</code></pre><p>}</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://wenyouwang99.io/2019/08/06/hdfs文件的读取/" data-id="cjz9m19bs00002svgaadqxuhx" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>
 


  
    <article id="post-maven安装1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/08/06/maven安装1/" class="article-date">
  <time datetime="2019-08-06T12:04:00.639Z" itemprop="datePublished">2019-08-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <!-- Table of Contents -->
        
        <h2 id="在windows下安装maven"><a href="#在windows下安装maven" class="headerlink" title="在windows下安装maven"></a>在windows下安装maven</h2><h2 id="1-先在官网下载maven-并解压在自定义路径"><a href="#1-先在官网下载maven-并解压在自定义路径" class="headerlink" title="1.先在官网下载maven,并解压在自定义路径"></a>1.先在官网下载maven,并解压在自定义路径</h2><p>我的路径 D:\java\maven\apache-maven-3.6.1</p>
<h2 id="2-修改配置文件"><a href="#2-修改配置文件" class="headerlink" title="2.修改配置文件"></a>2.修改配置文件</h2><p>D:\java\maven\apache-maven-3.6.1\conf\settings</p>
<!-- localRepository
   | The path to the local repository maven will use to store artifacts.
   |
   | Default: ${user.home}/.m2/repository
  <localRepository>/path/to/local/repo</localRepository>
  -->
<p>  <localrepository>D:\java\mavenrepository</localrepository><br>  自定义maven仓库路径，里面是存放jar包的</p>
<h2 id="3-修改环境变量"><a href="#3-修改环境变量" class="headerlink" title="3.修改环境变量"></a>3.修改环境变量</h2><p>在系统变量中添加<br>MAVEN_HOME<br>D:\java\maven\apache-maven-3.6.1</p>
<p>Path<br>D:\java\maven\apache-maven-3.6.1\bin</p>
<h2 id="4-测试是否安装成功"><a href="#4-测试是否安装成功" class="headerlink" title="4.测试是否安装成功"></a>4.测试是否安装成功</h2><p>win+r<br>mvn -v</p>
<h2 id="5-打开eclipse-配置maven"><a href="#5-打开eclipse-配置maven" class="headerlink" title="5.打开eclipse,配置maven"></a>5.打开eclipse,配置maven</h2><p>window–&gt;preference–&gt;maven–&gt;installations–&gt;add–&gt;<br>D:\java\maven\apache-maven-3.6.1–&gt;apply</p>
<p>window–&gt;preference–&gt;maven–&gt;user settings–&gt;update<br>如果更新后仓库路径和 2.修改配置文件 路径一样，则apply后退出即可</p>
<h2 id="6-创建maven工程，配置pom-xml-这个镜像可用"><a href="#6-创建maven工程，配置pom-xml-这个镜像可用" class="headerlink" title="6.创建maven工程，配置pom.xml    (这个镜像可用)"></a>6.创建maven工程，配置pom.xml    (这个镜像可用)</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://wenyouwang99.io/2019/08/06/maven安装1/" data-id="cjz9m19c400072svgugr9ami2" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>
 


  
    <article id="post-maven安装2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/08/06/maven安装2/" class="article-date">
  <time datetime="2019-08-06T12:02:49.190Z" itemprop="datePublished">2019-08-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <!-- Table of Contents -->
        
        <h2 id="6-创建maven工程，配置pom-xml-这个镜像可用"><a href="#6-创建maven工程，配置pom-xml-这个镜像可用" class="headerlink" title="6.创建maven工程，配置pom.xml    (这个镜像可用)"></a>6.创建maven工程，配置pom.xml    (这个镜像可用)</h2><p>##1.  <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemalocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"><br>  <modelversion>4.0.0</modelversion><br>  <groupid>com.me</groupid><br>  <artifactid>hadoop</artifactid><br>  <version>0.0.1-SNAPSHOT</version><br>  <description>        </description></project></p>
<h2 id><a href="#" class="headerlink" title></a><properties></properties></h2><pre><code>  &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
&lt;/properties&gt;
/*可用镜像库*/
&lt;repositories&gt;  
 &lt;repository&gt;  
 &lt;id&gt;repo2&lt;/id&gt;  
 &lt;name&gt;Maven Repository Switchboard&lt;/name&gt;  
 &lt;layout&gt;default&lt;/layout&gt;  
 &lt;url &gt;http://repo2.maven.org/maven2&lt;/url&gt;  
 &lt;snapshots&gt;  
   &lt;enabled&gt;false&lt;/enabled&gt;  
 &lt;/snapshots&gt;  
 &lt;/repository&gt;  
 &lt;/repositories&gt;</code></pre>   <dependencies>
   <dependency>
        <groupid>junit</groupid>
        <artifactid>junit</artifactid>
        <version>3.8.1</version>
        <scope>test</scope>
     </dependency>

<pre><code>&lt;dependency&gt;
  &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;
  &lt;artifactId&gt;hadoop-hdfs&lt;/artifactId&gt;
  &lt;version&gt;2.6.0&lt;/version&gt;
&lt;/dependency&gt;

&lt;dependency&gt;  
  &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;  
  &lt;artifactId&gt;hadoop-client&lt;/artifactId&gt;  
  &lt;version&gt;2.6.0&lt;/version&gt;  
&lt;/dependency&gt; 

&lt;dependency&gt;
  &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;
  &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;
  &lt;version&gt;2.6.0&lt;/version&gt;
&lt;/dependency&gt;
&lt;!-- https://mvnrepository.com/artifact/jdk.tools/jdk.tools --&gt;
&lt;dependency&gt;
&lt;groupId&gt;jdk.tools&lt;/groupId&gt;
&lt;artifactId&gt;jdk.tools&lt;/artifactId&gt;
&lt;version&gt;1.7&lt;/version&gt;
&lt;scope&gt;system&lt;/scope&gt;
&lt;systemPath&gt;${JAVA_HOME}/lib/tools.jar&lt;/systemPath&gt;
&lt;/dependency&gt;

&lt;/dependencies&gt;    

&lt;build&gt; 
  &lt;plugins&gt;
      &lt;plugin&gt;
          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
          &lt;version&gt;3.1&lt;/version&gt;
          &lt;configuration&gt;
              &lt;source&gt;1.7&lt;/source&gt;
             &lt;target&gt;1.7&lt;/target&gt;
          &lt;/configuration&gt;
      &lt;/plugin&gt;
  &lt;/plugins&gt;
&lt;/build&gt;
&lt;/project&gt;</code></pre><p>等待安装，安装时间挺长，请等待</p>
</dependencies>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://wenyouwang99.io/2019/08/06/maven安装2/" data-id="cjz9m19c300062svg3cn7sml7" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>
 


  


  <nav id="page-nav">
    <a class="extend prev" rel="prev" href="/">&laquo; 上一页</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/">下一页&raquo;</a>
  </nav>
</section>
           
    <aside id="sidebar">
  
    

  
    
  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title recent-posts">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/08/14/求每个用户平均停留时长/">(no title)</a>
          </li>
        
          <li>
            <a href="/2019/08/14/hadoop中combine优化/">(no title)</a>
          </li>
        
          <li>
            <a href="/2019/08/13/hive命令2/">(no title)</a>
          </li>
        
          <li>
            <a href="/2019/08/13/求平均以及数据清洗 （自己写的案例）/">(no title)</a>
          </li>
        
          <li>
            <a href="/2019/08/13/求和以及数据清洗 （自己写的案例）/">(no title)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    

  
    
  
    <!--微信公众号二维码-->


  
</aside>

      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-left">
      &copy; 2014 - 2019 WenYouWang&nbsp;|&nbsp;
      主题 <a href="https://github.com/giscafer/hexo-theme-cafe/" target="_blank">Cafe</a>
    </div>
     <div id="footer-right">
      联系方式&nbsp;|&nbsp;youemail@outlook.com
    </div>
  </div>
</footer>
 <script src="/jquery/jquery.min.js"></script>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">首页</a>
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
    <a href="/about" class="mobile-nav-link">关于</a>
  
</nav>
    <img class="back-to-top-btn" src="/images/fly-to-top.png"/>
<script>
// Elevator script included on the page, already.
window.onload = function() {
  var elevator = new Elevator({
    selector:'.back-to-top-btn',
    element: document.querySelector('.back-to-top-btn'),
    duration: 1000 // milliseconds
  });
}
</script>
      

  
    <script>
      var cloudTieConfig = {
        url: document.location.href, 
        sourceId: "",
        productKey: "e2fb4051c49842688ce669e634bc983f",
        target: "cloud-tie-wrapper"
      };
    </script>
    <script src="https://img1.ws.126.net/f2e/tie/yun/sdk/loader.js"></script>
    

  







<!-- author:forvoid begin -->
<!-- author:forvoid begin -->

<!-- author:forvoid end -->

<!-- author:forvoid end -->


  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      })
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      })
    </script>
    <script type="text/javascript" src="https://cdn.rawgit.com/mathjax/MathJax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


 <script src="/js/is.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>
<script src="/js/elevator.js"></script>
  </div>
</body>
</html>